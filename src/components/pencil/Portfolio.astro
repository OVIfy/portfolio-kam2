---
const {name, title, body, url, link} = Astro.props
---
<div class="text-secondary-color portfolio whitespace-normal w-[200px] sm:w-[300px] shrink-0 grow-0">
    <div class:list={["aspect-square bg-contain bg-no-repeat ", url]}></div>
    <br>
    <p class="text-[#333333] font-bold">{name}</p>
    <p class="text-[11px] text-[#7d7d7d] font-bold">{title}</p>
    <br>
    <p class="text-[14px] text-[#7d7d7d]">{body}</p>
    <br>
    <a href={link} target="_blank"><div class="flex justify-between w-[90%] sm:w-[80%]"><p class="text-[11px] text-[#7d7d7d] font-bold text mouse-change">VIEW PORTFOLIO</p> <div class="w-[12px] h-[12px] bg-contain bg-no-repeat bg-center bg-[url('/images/icons/link.svg')] btn mouse-change"></div> </div></a>
</div>

<style>
    .btn{
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .btn::after{
        content: '';
        display: inline-block;
        width: 30px;
        height: 30px;
        background-color: gainsboro;
        flex-shrink: 0;
        border-radius: 6px;
        opacity: 0;
    }
    .btn:hover::after{
        opacity: 0.2;
    }
    .btn.clicked:hover::after{
        animation: click 0.2s ease forwards;
    }

    .text:hover + .btn::after{
        opacity: 0.2;
    }

    @keyframes click{
        0%{
            transform: scale(1);
        }50%{
            transform: scale(1.3);
        }100%{
            transform: scale(1);
        }
    }
</style>
<script>
    let btns = document.querySelectorAll('.portfolio .btn') as NodeListOf<HTMLElement>
    let texts = document.querySelectorAll('.portfolio .text') as NodeListOf<HTMLElement>

    let go = true
    btns.forEach(btn => 
    {
        btn.onclick = () => {
            if(go)
            btn.classList.add('clicked')
            
            setTimeout(()=>{
                btn.classList.remove('clicked')
                go = true
            },200)

            go = false
        }


    })
</script>